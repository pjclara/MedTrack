import{c as oa,r as Be,j as a,a as Ue,H as sa,y as Ke}from"./app-tFYMUciI.js";import{X as ra,A as la}from"./app-layout-CjK0QzOa.js";import{B as U}from"./button-Dle-SbEp.js";import{a as ca,C as na,d as da,b as ma,c as fa}from"./card-C3usKmay.js";import{I as d}from"./input-e-uGzu36.js";import{L as r}from"./label-B0zFsQOc.js";import{T as Xe}from"./textarea-D-hvWhu_.js";import{b as $e,c as qe,a as He,S as Ge,d as Je}from"./select-C-sms1E3.js";import{T as ha}from"./trash-2-CoPrClOG.js";import{A as pa}from"./arrow-left-POtzCBp5.js";import{S as _a}from"./save-VH5lwjCR.js";/* empty css            */import"./index-Csd9bN0W.js";import"./index-C6ZDtAOF.js";import"./index-yC4sJKkN.js";import"./index-BwZRPWTo.js";import"./createLucideIcon-DgD1BL1Z.js";import"./index-Dtq_5zvv.js";import"./index-BH0NSEIh.js";import"./log-out-ee8adTPl.js";import"./activity-Cl-3IR_0.js";import"./users-DaSpLRef.js";import"./clipboard-list-Da3n9-01.js";import"./index-BtSuNgA5.js";import"./check-BPCxio13.js";function Ja(s){const e=oa.c(157),{formacao:i}=s;let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K=[{title:"Dashboard",href:"/dashboard"},{title:"Formações",href:"/formacoes"},{title:"Editar Formação",href:"#"}],e[0]=K):K=e[0];const Qe=K,[c,We]=Be.useState(null),[n,Fe]=Be.useState(!1),we=i.titulo||"",De=i.descricao||"",Ee=i.tipo||"",Te=i.data_inicio||"",ke=i.data_fim||"";let m;e[1]!==i.duracao_horas?(m=i.duracao_horas?.toString()||"",e[1]=i.duracao_horas,e[2]=m):m=e[2];const Ae=i.entidade_organizadora||"",Pe=i.localizacao||"",Oe=i.categoria||"",Le=i.tipo_participacao||"",Ve=i.tema_apresentacao||"";let f;e[3]!==i.creditos?(f=i.creditos?.toString()||"",e[3]=i.creditos,e[4]=f):f=e[4];const Ie=i.observacoes||"";let Q;e[5]!==Oe||e[6]!==Le||e[7]!==Ve||e[8]!==f||e[9]!==Ie||e[10]!==we||e[11]!==De||e[12]!==Ee||e[13]!==Te||e[14]!==ke||e[15]!==m||e[16]!==Ae||e[17]!==Pe?(Q={titulo:we,descricao:De,tipo:Ee,data_inicio:Te,data_fim:ke,duracao_horas:m,entidade_organizadora:Ae,localizacao:Pe,categoria:Oe,tipo_participacao:Le,tema_apresentacao:Ve,creditos:f,observacoes:Ie},e[5]=Oe,e[6]=Le,e[7]=Ve,e[8]=f,e[9]=Ie,e[10]=we,e[11]=De,e[12]=Ee,e[13]=Te,e[14]=ke,e[15]=m,e[16]=Ae,e[17]=Pe,e[18]=Q):Q=e[18];const[t,l]=Be.useState(Q);let Y;e[19]===Symbol.for("react.memo_cache_sentinel")?(Y=["Congresso","Workshop","Webinar","Curso","Conferência","Seminário","Simpósio","Jornadas"],e[19]=Y):Y=e[19];const Ye=Y;let Z;e[20]===Symbol.for("react.memo_cache_sentinel")?(Z=["Nacional","Internacional","Regional","Local"],e[20]=Z):Z=e[20];const Ze=Z;let ee;e[21]===Symbol.for("react.memo_cache_sentinel")?(ee=["Participante","Orador","Organizador","Moderador"],e[21]=ee):ee=e[21];const ea=ee;let ae;e[22]===Symbol.for("react.memo_cache_sentinel")?(ae=o=>{o.target.files&&o.target.files[0]&&(We(o.target.files[0]),Fe(!1))},e[22]=ae):ae=e[22];const aa=ae;let te;e[23]!==t||e[24]!==i.id||e[25]!==n||e[26]!==c?(te=o=>{o.preventDefault();const X=new FormData;X.append("_method","PUT"),Object.entries(t).forEach(ta=>{const[ia,Re]=ta;Re!==""&&Re!==null&&X.append(ia,Re.toString())}),n&&X.append("remover_certificado","1"),c&&X.append("certificado",c),Ue.post(`/formacoes/${i.id}`,X,{onSuccess:va,onError:ga})},e[23]=t,e[24]=i.id,e[25]=n,e[26]=c,e[27]=te):te=e[27];const Me=te;let ie;e[28]===Symbol.for("react.memo_cache_sentinel")?(ie=a.jsx(sa,{title:"Editar Formação"}),e[28]=ie):ie=e[28];let oe;e[29]===Symbol.for("react.memo_cache_sentinel")?(oe=a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Editar Formação"}),a.jsx("p",{className:"text-muted-foreground",children:"Atualize as informações da formação"})]})}),e[29]=oe):oe=e[29];let se;e[30]===Symbol.for("react.memo_cache_sentinel")?(se=a.jsxs(ca,{children:[a.jsx(na,{children:"Dados da Formação"}),a.jsx(da,{children:"Atualize as informações da formação"})]}),e[30]=se):se=e[30];let re;e[31]===Symbol.for("react.memo_cache_sentinel")?(re=a.jsxs(r,{htmlFor:"titulo",children:["Título ",a.jsx("span",{className:"text-destructive",children:"*"})]}),e[31]=re):re=e[31];let h;e[32]!==t?(h=o=>l({...t,titulo:o.target.value}),e[32]=t,e[33]=h):h=e[33];let p;e[34]!==t.titulo||e[35]!==h?(p=a.jsxs("div",{className:"space-y-2",children:[re,a.jsx(d,{id:"titulo",value:t.titulo,onChange:h,placeholder:"Título da formação",required:!0})]}),e[34]=t.titulo,e[35]=h,e[36]=p):p=e[36];let le;e[37]===Symbol.for("react.memo_cache_sentinel")?(le=a.jsxs(r,{htmlFor:"tipo",children:["Tipo ",a.jsx("span",{className:"text-destructive",children:"*"})]}),e[37]=le):le=e[37];let _;e[38]!==t?(_=o=>l({...t,tipo:o}),e[38]=t,e[39]=_):_=e[39];let ce;e[40]===Symbol.for("react.memo_cache_sentinel")?(ce=a.jsx(He,{children:a.jsx(Ge,{placeholder:"Selecione o tipo"})}),e[40]=ce):ce=e[40];let ne;e[41]===Symbol.for("react.memo_cache_sentinel")?(ne=a.jsx($e,{children:Ye.map(ja)}),e[41]=ne):ne=e[41];let u;e[42]!==t.tipo||e[43]!==_?(u=a.jsxs("div",{className:"space-y-2",children:[le,a.jsxs(qe,{value:t.tipo,onValueChange:_,children:[ce,ne]})]}),e[42]=t.tipo,e[43]=_,e[44]=u):u=e[44];let de;e[45]===Symbol.for("react.memo_cache_sentinel")?(de=a.jsx(r,{htmlFor:"categoria",children:"Categoria"}),e[45]=de):de=e[45];let x;e[46]!==t?(x=o=>l({...t,categoria:o}),e[46]=t,e[47]=x):x=e[47];let me;e[48]===Symbol.for("react.memo_cache_sentinel")?(me=a.jsx(He,{children:a.jsx(Ge,{placeholder:"Selecione a categoria"})}),e[48]=me):me=e[48];let fe;e[49]===Symbol.for("react.memo_cache_sentinel")?(fe=a.jsx($e,{children:Ze.map(xa)}),e[49]=fe):fe=e[49];let j;e[50]!==t.categoria||e[51]!==x?(j=a.jsxs("div",{className:"space-y-2",children:[de,a.jsxs(qe,{value:t.categoria,onValueChange:x,children:[me,fe]})]}),e[50]=t.categoria,e[51]=x,e[52]=j):j=e[52];let g;e[53]!==u||e[54]!==j?(g=a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u,j]}),e[53]=u,e[54]=j,e[55]=g):g=e[55];let he;e[56]===Symbol.for("react.memo_cache_sentinel")?(he=a.jsxs(r,{htmlFor:"data_inicio",children:["Data de Início ",a.jsx("span",{className:"text-destructive",children:"*"})]}),e[56]=he):he=e[56];let v;e[57]!==t?(v=o=>l({...t,data_inicio:o.target.value}),e[57]=t,e[58]=v):v=e[58];let b;e[59]!==t.data_inicio||e[60]!==v?(b=a.jsxs("div",{className:"space-y-2",children:[he,a.jsx(d,{id:"data_inicio",type:"date",value:t.data_inicio,onChange:v,required:!0})]}),e[59]=t.data_inicio,e[60]=v,e[61]=b):b=e[61];let pe;e[62]===Symbol.for("react.memo_cache_sentinel")?(pe=a.jsx(r,{htmlFor:"data_fim",children:"Data de Fim"}),e[62]=pe):pe=e[62];let y;e[63]!==t?(y=o=>l({...t,data_fim:o.target.value}),e[63]=t,e[64]=y):y=e[64];let S;e[65]!==t.data_fim||e[66]!==y?(S=a.jsxs("div",{className:"space-y-2",children:[pe,a.jsx(d,{id:"data_fim",type:"date",value:t.data_fim,onChange:y})]}),e[65]=t.data_fim,e[66]=y,e[67]=S):S=e[67];let N;e[68]!==b||e[69]!==S?(N=a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b,S]}),e[68]=b,e[69]=S,e[70]=N):N=e[70];let _e;e[71]===Symbol.for("react.memo_cache_sentinel")?(_e=a.jsx(r,{htmlFor:"duracao_horas",children:"Duração (horas)"}),e[71]=_e):_e=e[71];let C;e[72]!==t?(C=o=>l({...t,duracao_horas:o.target.value}),e[72]=t,e[73]=C):C=e[73];let z;e[74]!==t.duracao_horas||e[75]!==C?(z=a.jsxs("div",{className:"space-y-2",children:[_e,a.jsx(d,{id:"duracao_horas",type:"number",min:"1",value:t.duracao_horas,onChange:C,placeholder:"Ex: 8"})]}),e[74]=t.duracao_horas,e[75]=C,e[76]=z):z=e[76];let ue;e[77]===Symbol.for("react.memo_cache_sentinel")?(ue=a.jsx(r,{htmlFor:"creditos",children:"Créditos de Formação"}),e[77]=ue):ue=e[77];let F;e[78]!==t?(F=o=>l({...t,creditos:o.target.value}),e[78]=t,e[79]=F):F=e[79];let w;e[80]!==t.creditos||e[81]!==F?(w=a.jsxs("div",{className:"space-y-2",children:[ue,a.jsx(d,{id:"creditos",type:"number",step:"0.1",min:"0",value:t.creditos,onChange:F,placeholder:"Ex: 1.5"})]}),e[80]=t.creditos,e[81]=F,e[82]=w):w=e[82];let D;e[83]!==z||e[84]!==w?(D=a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z,w]}),e[83]=z,e[84]=w,e[85]=D):D=e[85];let xe;e[86]===Symbol.for("react.memo_cache_sentinel")?(xe=a.jsx(r,{htmlFor:"entidade_organizadora",children:"Entidade Organizadora"}),e[86]=xe):xe=e[86];let E;e[87]!==t?(E=o=>l({...t,entidade_organizadora:o.target.value}),e[87]=t,e[88]=E):E=e[88];let T;e[89]!==t.entidade_organizadora||e[90]!==E?(T=a.jsxs("div",{className:"space-y-2",children:[xe,a.jsx(d,{id:"entidade_organizadora",value:t.entidade_organizadora,onChange:E,placeholder:"Nome da instituição"})]}),e[89]=t.entidade_organizadora,e[90]=E,e[91]=T):T=e[91];let je;e[92]===Symbol.for("react.memo_cache_sentinel")?(je=a.jsx(r,{htmlFor:"localizacao",children:"Localização"}),e[92]=je):je=e[92];let k;e[93]!==t?(k=o=>l({...t,localizacao:o.target.value}),e[93]=t,e[94]=k):k=e[94];let A;e[95]!==t.localizacao||e[96]!==k?(A=a.jsxs("div",{className:"space-y-2",children:[je,a.jsx(d,{id:"localizacao",value:t.localizacao,onChange:k,placeholder:"Cidade, País"})]}),e[95]=t.localizacao,e[96]=k,e[97]=A):A=e[97];let P;e[98]!==T||e[99]!==A?(P=a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T,A]}),e[98]=T,e[99]=A,e[100]=P):P=e[100];let ge;e[101]===Symbol.for("react.memo_cache_sentinel")?(ge=a.jsx(r,{htmlFor:"tipo_participacao",children:"Tipo de Participação"}),e[101]=ge):ge=e[101];let O;e[102]!==t?(O=o=>l({...t,tipo_participacao:o}),e[102]=t,e[103]=O):O=e[103];let ve;e[104]===Symbol.for("react.memo_cache_sentinel")?(ve=a.jsx(He,{children:a.jsx(Ge,{placeholder:"Selecione o tipo de participação"})}),e[104]=ve):ve=e[104];let be;e[105]===Symbol.for("react.memo_cache_sentinel")?(be=a.jsx($e,{children:ea.map(ua)}),e[105]=be):be=e[105];let L;e[106]!==t.tipo_participacao||e[107]!==O?(L=a.jsxs("div",{className:"space-y-2",children:[ge,a.jsxs(qe,{value:t.tipo_participacao,onValueChange:O,children:[ve,be]})]}),e[106]=t.tipo_participacao,e[107]=O,e[108]=L):L=e[108];let V;e[109]!==t?(V=(t.tipo_participacao==="Orador"||t.tipo_participacao==="Moderador")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"tema_apresentacao",children:"Tema da Apresentação"}),a.jsx(d,{id:"tema_apresentacao",value:t.tema_apresentacao,onChange:o=>l({...t,tema_apresentacao:o.target.value}),placeholder:"Tema ou título da apresentação"})]}),e[109]=t,e[110]=V):V=e[110];let ye;e[111]===Symbol.for("react.memo_cache_sentinel")?(ye=a.jsx(r,{htmlFor:"descricao",children:"Descrição"}),e[111]=ye):ye=e[111];let I;e[112]!==t?(I=o=>l({...t,descricao:o.target.value}),e[112]=t,e[113]=I):I=e[113];let M;e[114]!==t.descricao||e[115]!==I?(M=a.jsxs("div",{className:"space-y-2",children:[ye,a.jsx(Xe,{id:"descricao",value:t.descricao,onChange:I,placeholder:"Descrição breve da formação",rows:3})]}),e[114]=t.descricao,e[115]=I,e[116]=M):M=e[116];let R;e[117]!==i.certificado_original_name||e[118]!==i.certificado_path||e[119]!==i.certificado_size_formatado||e[120]!==i.id||e[121]!==n?(R=i.certificado_path&&!n&&a.jsxs("div",{className:"space-y-2 rounded-lg border border-emerald-200 bg-emerald-50 p-4 dark:border-emerald-900 dark:bg-emerald-950",children:[a.jsx(r,{children:"Certificado Atual"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm",children:[i.certificado_original_name," (",i.certificado_size_formatado,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>window.open(`/formacoes/${i.id}/download`,"_blank"),children:"Ver Certificado"}),a.jsxs(U,{type:"button",variant:"destructive",size:"sm",onClick:()=>Fe(!0),children:[a.jsx(ha,{className:"mr-2 h-4 w-4"}),"Remover"]})]})]})]}),e[117]=i.certificado_original_name,e[118]=i.certificado_path,e[119]=i.certificado_size_formatado,e[120]=i.id,e[121]=n,e[122]=R):R=e[122];let B;e[123]!==i.certificado_path||e[124]!==n||e[125]!==c?(B=(!i.certificado_path||n)&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(r,{htmlFor:"certificado",children:[n?"Novo Certificado":"Certificado"," (PDF, JPG, PNG - Máx. 10MB)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d,{id:"certificado",type:"file",onChange:aa,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",className:"cursor-pointer"}),c&&a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>We(null),children:a.jsx(ra,{className:"h-4 w-4"})})]}),c&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ficheiro: ",c.name," (",(c.size/1024/1024).toFixed(2)," MB)"]}),n&&!c&&a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>Fe(!1),children:"Cancelar remoção"})]}),e[123]=i.certificado_path,e[124]=n,e[125]=c,e[126]=B):B=e[126];let Se;e[127]===Symbol.for("react.memo_cache_sentinel")?(Se=a.jsx(r,{htmlFor:"observacoes",children:"Observações"}),e[127]=Se):Se=e[127];let $;e[128]!==t?($=o=>l({...t,observacoes:o.target.value}),e[128]=t,e[129]=$):$=e[129];let q;e[130]!==t.observacoes||e[131]!==$?(q=a.jsxs("div",{className:"space-y-2",children:[Se,a.jsx(Xe,{id:"observacoes",value:t.observacoes,onChange:$,placeholder:"Observações adicionais",rows:2})]}),e[130]=t.observacoes,e[131]=$,e[132]=q):q=e[132];let H;e[133]!==p||e[134]!==g||e[135]!==N||e[136]!==D||e[137]!==P||e[138]!==L||e[139]!==V||e[140]!==M||e[141]!==R||e[142]!==B||e[143]!==q?(H=a.jsxs(ma,{children:[se,a.jsxs(fa,{className:"space-y-6",children:[p,g,N,D,P,L,V,M,R,B,q]})]}),e[133]=p,e[134]=g,e[135]=N,e[136]=D,e[137]=P,e[138]=L,e[139]=V,e[140]=M,e[141]=R,e[142]=B,e[143]=q,e[144]=H):H=e[144];let G;e[145]!==i.id?(G=()=>Ue.visit(`/formacoes/${i.id}`),e[145]=i.id,e[146]=G):G=e[146];let Ne;e[147]===Symbol.for("react.memo_cache_sentinel")?(Ne=a.jsx(pa,{className:"mr-2 h-4 w-4"}),e[147]=Ne):Ne=e[147];let J;e[148]!==G?(J=a.jsxs(U,{type:"button",variant:"outline",onClick:G,children:[Ne,"Cancelar"]}),e[148]=G,e[149]=J):J=e[149];let Ce;e[150]===Symbol.for("react.memo_cache_sentinel")?(Ce=a.jsxs(U,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700",children:[a.jsx(_a,{className:"mr-2 h-4 w-4"}),"Atualizar Formação"]}),e[150]=Ce):Ce=e[150];let W;e[151]!==J?(W=a.jsxs("div",{className:"mt-4 flex items-center justify-end gap-4",children:[J,Ce]}),e[151]=J,e[152]=W):W=e[152];let ze;return e[153]!==Me||e[154]!==H||e[155]!==W?(ze=a.jsxs(la,{breadcrumbs:Qe,children:[ie,a.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[oe,a.jsxs("form",{onSubmit:Me,children:[H,W]})]})]}),e[153]=Me,e[154]=H,e[155]=W,e[156]=ze):ze=e[156],ze}function ua(s){return a.jsx(Je,{value:s,children:s},s)}function xa(s){return a.jsx(Je,{value:s,children:s},s)}function ja(s){return a.jsx(Je,{value:s,children:s},s)}function ga(s){Ke.error("Erro ao atualizar formação. Verifique os dados."),console.error(s)}function va(){Ke.success("Formação atualizada com sucesso!")}export{Ja as default};
