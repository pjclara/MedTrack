import{c as v,j as e,L as b,H as _,a as A,y as p}from"./app-CUmQ-Arq.js";import{A as C}from"./app-layout-CWZrMdw8.js";import{B as u}from"./button-CML7ZxMR.js";import{a as z,d as T,C as D,c as y,b as S}from"./card-BKmTZvo0.js";import{a as g,e as d,T as U,b as c,c as E,d as H}from"./table-DAOvlfcb.js";import{A as w,a as L,b as k,c as B,d as R,e as $,f as I,g as P,h as q}from"./alert-dialog-fL-QhVMC.js";import{U as F}from"./user-fTJbGl_v.js";import{S as G}from"./square-pen-pFtFdaVJ.js";import{T as O}from"./trash-2-Dnl80D_R.js";import{C as J}from"./circle-plus-BQmpQ7I6.js";/* empty css            */import"./index-D2r-Vog2.js";import"./index-sTK1YsfA.js";import"./index-CzM-7cV2.js";import"./index-BxC-Jtbv.js";import"./createLucideIcon-DdacBQ7K.js";import"./index-ORnzEphL.js";import"./index-BH0NSEIh.js";import"./log-out-BiNLmSlZ.js";import"./activity-xqwtpltw.js";import"./users-C4MOw7pF.js";import"./clipboard-list-D9_4q_2R.js";const K=[{title:"Dashboard",href:"/dashboard"},{title:"Administração",href:"#"},{title:"Utilizadores",href:"/users"}];function ge(t){const s=v.c(14),{users:i}=t,N=M;let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx(_,{title:"Utilizadores"}),s[0]=n):n=s[0];let m;s[1]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Utilizadores"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestão de utilizadores do sistema"})]}),s[1]=m):m=s[1];let h;s[2]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs("div",{className:"flex items-center justify-between",children:[m,e.jsx(b,{href:"/users/create",children:e.jsxs(u,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Novo Utilizador"]})})]}),s[2]=h):h=s[2];let x;s[3]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx(D,{children:"Lista de Utilizadores"}),s[3]=x):x=s[3];let a;s[4]!==i.total?(a=e.jsxs(z,{children:[x,e.jsxs(T,{children:["Total de ",i.total," utilizadores registados"]})]}),s[4]=i.total,s[5]=a):a=s[5];let f;s[6]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx(U,{children:e.jsxs(g,{children:[e.jsx(c,{children:"Nome"}),e.jsx(c,{children:"Email"}),e.jsx(c,{children:"Hospital"}),e.jsx(c,{children:"Especialidade"}),e.jsx(c,{className:"text-right",children:"Ações"})]})}),s[6]=f):f=s[6];let l;s[7]!==i.data?(l=i.data.length===0?e.jsx(g,{children:e.jsx(d,{colSpan:5,className:"text-center text-muted-foreground py-10",children:"Nenhum utilizador encontrado"})}):i.data.map(r=>e.jsxs(g,{children:[e.jsx(d,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-muted-foreground"}),r.name]})}),e.jsx(d,{children:r.email}),e.jsx(d,{children:r.hospital_de_origem||"-"}),e.jsx(d,{children:r.especialidade||"-"}),e.jsx(d,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{href:`/users/${r.id}/edit`,children:e.jsx(u,{variant:"ghost",size:"icon",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsxs(w,{children:[e.jsx(L,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsxs(k,{children:[e.jsxs(B,{children:[e.jsx(R,{children:"Tem a certeza?"}),e.jsxs($,{children:["Esta ação não pode ser desfeita. Isto irá eliminar permanentemente o utilizador",e.jsx("span",{className:"font-semibold text-foreground mx-1",children:r.name}),"e todos os dados associados."]})]}),e.jsxs(I,{children:[e.jsx(P,{children:"Cancelar"}),e.jsx(q,{onClick:()=>N(r.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Eliminar"})]})]})]})]})})]},r.id)),s[7]=i.data,s[8]=l):l=s[8];let o;s[9]!==l?(o=e.jsx(y,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(E,{children:[f,e.jsx(H,{children:l})]})})}),s[9]=l,s[10]=o):o=s[10];let j;return s[11]!==a||s[12]!==o?(j=e.jsxs(C,{breadcrumbs:K,children:[n,e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[h,e.jsxs(S,{children:[a,o]})]})]}),s[11]=a,s[12]=o,s[13]=j):j=s[13],j}function M(t){A.delete(`/users/${t}`,{onSuccess:V,onError:Q})}function Q(t){t.message?p.error(t.message):t[0]?p.error(t[0]):p.error("Ocorreu um erro ao eliminar o utilizador.")}function V(){return p.success("Utilizador removido com sucesso!")}export{ge as default};
