import{c as $,r as z,j as t,a as F,H as B}from"./app-C_6RYPSG.js";import{A as H}from"./admin-layout-D-4J8UI8.js";import{D as I}from"./download--m4S4vsk.js";import{S as M}from"./search-BJm7XQ4V.js";import{E as R}from"./eye-Cp8il_6X.js";import{B as V}from"./book-open-BROyZcRf.js";import{A as q}from"./activity-BKfs1XZy.js";import{C as O}from"./clipboard-list-Dl-Wpbv3.js";/* empty css            */import"./createLucideIcon-C72gVIb_.js";import"./users-DZEPP9W7.js";import"./log-out-hmZ_RmwO.js";import"./circle-user-ChfFL4DV.js";const J=[{title:"Painel Admin",href:"/admin/dashboard"},{title:"Gestão de Currículos",href:"#"}];function oe(T){const e=$.c(42),{items:s,filters:u}=T,[r,G]=z.useState(u.search||""),[i,L]=z.useState(u.type||"");let f;e[0]!==u.user_id||e[1]!==r||e[2]!==i?(f=l=>{l.preventDefault(),F.get("/admin/curriculos",{search:r,type:i,user_id:u.user_id},{preserveState:!0})},e[0]=u.user_id,e[1]=r,e[2]=i,e[3]=f):f=e[3];const E=f,P=K;let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(B,{title:"Gestão de Currículos"}),e[4]=b):b=e[4];let j;e[5]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Gestão de Currículos"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Visualize e exporte os registos dos utilizadores."})]}),e[5]=j):j=e[5];let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[j,t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[t.jsx(I,{className:"w-4 h-4"}),"Exportar Tudo (Excel)"]})]}),e[6]=g):g=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e[7]=N):N=e[7];let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=l=>G(l.target.value),e[8]=y):y=e[8];let o;e[9]!==r?(o=t.jsxs("div",{className:"flex-1 relative",children:[N,t.jsx("input",{type:"text",placeholder:"Pesquisar por título ou médico...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",value:r,onChange:y})]}),e[9]=r,e[10]=o):o=e[10];let v,w,_,k,S;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=l=>L(l.target.value),S=t.jsx("option",{value:"",children:"Todos os tipos"}),v=t.jsx("option",{value:"cirurgia",children:"Cirurgias"}),w=t.jsx("option",{value:"atividade",children:"Atividades Científicas"}),_=t.jsx("option",{value:"formacao",children:"Formações"}),e[11]=v,e[12]=w,e[13]=_,e[14]=k,e[15]=S):(v=e[11],w=e[12],_=e[13],k=e[14],S=e[15]);let c;e[16]!==i?(c=t.jsx("div",{className:"w-full md:w-48",children:t.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",value:i,onChange:k,children:[S,v,w,_]})}),e[16]=i,e[17]=c):c=e[17];let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("button",{type:"submit",className:"px-6 py-2 bg-slate-900 text-white rounded-lg text-sm font-medium hover:bg-slate-800 transition-colors",children:"Filtrar"}),e[18]=C):C=e[18];let d;e[19]!==E||e[20]!==c||e[21]!==o?(d=t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("form",{onSubmit:E,className:"flex flex-col md:flex-row gap-4",children:[o,c,C]})}),e[19]=E,e[20]=c,e[21]=o,e[22]=d):d=e[22];let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[t.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Tipo"}),t.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Médico"}),t.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Título / Descrição"}),t.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Data"}),t.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Ações"})]})}),e[23]=A):A=e[23];let n;if(e[24]!==s.data){let l;e[26]===Symbol.for("react.memo_cache_sentinel")?(l=a=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[P(a.type),t.jsx("span",{className:"text-xs font-medium text-slate-600 capitalize",children:a.type})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm font-medium text-slate-900",children:a.user_name})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-slate-900 line-clamp-1",children:a.title}),t.jsx("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:a.details})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-slate-600",children:new Date(a.date).toLocaleDateString()})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-full transition-colors",title:"Ver Detalhes",children:t.jsx(R,{className:"w-4 h-4"})})})]},`${a.type}-${a.id}`),e[26]=l):l=e[26],n=s.data.map(l),e[24]=s.data,e[25]=n}else n=e[25];let x;e[27]!==s.data.length?(x=s.data.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"Nenhum registo encontrado."})}),e[27]=s.data.length,e[28]=x):x=e[28];let m;e[29]!==n||e[30]!==x?(m=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[A,t.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n,x]})]})}),e[29]=n,e[30]=x,e[31]=m):m=e[31];let h;e[32]!==s.data.length||e[33]!==s.links||e[34]!==s.total?(h=s.total>0&&t.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-slate-500",children:["Mostrando ",t.jsx("span",{className:"font-medium text-slate-700",children:s.data.length})," de ",t.jsx("span",{className:"font-medium text-slate-700",children:s.total})," registos"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{disabled:!s.links[0].url,onClick:()=>s.links[0].url&&F.get(s.links[0].url),className:"px-3 py-1 text-xs font-medium text-slate-600 bg-white border border-slate-200 rounded hover:bg-slate-50 disabled:opacity-50",children:"Anterior"}),t.jsx("button",{disabled:!s.links[s.links.length-1].url,onClick:()=>s.links[s.links.length-1].url&&F.get(s.links[s.links.length-1].url),className:"px-3 py-1 text-xs font-medium text-slate-600 bg-white border border-slate-200 rounded hover:bg-slate-50 disabled:opacity-50",children:"Próximo"})]})]}),e[32]=s.data.length,e[33]=s.links,e[34]=s.total,e[35]=h):h=e[35];let p;e[36]!==m||e[37]!==h?(p=t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[m,h]}),e[36]=m,e[37]=h,e[38]=p):p=e[38];let D;return e[39]!==d||e[40]!==p?(D=t.jsxs(H,{breadcrumbs:J,children:[b,t.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[g,d,p]})]}),e[39]=d,e[40]=p,e[41]=D):D=e[41],D}function K(T){switch(T){case"cirurgia":return t.jsx(O,{className:"w-4 h-4 text-blue-500"});case"atividade":return t.jsx(q,{className:"w-4 h-4 text-indigo-500"});case"formacao":return t.jsx(V,{className:"w-4 h-4 text-purple-500"});default:return null}}export{oe as default};
