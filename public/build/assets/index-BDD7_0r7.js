import{c as $,r as I,j as s,a as A,H as P,L as T}from"./app-B-1tTBzB.js";import{A as U}from"./admin-layout-DK-L46g3.js";import{B as j}from"./button-CdeAIhWh.js";import{I as D}from"./input-NwLU5jqd.js";import{b as k,c as B}from"./card-CT4nWOXi.js";import{a as z,e as i,T as F,b as p,c as G,d as M}from"./table-v9Msa1nz.js";import{f as q}from"./date-formatters-B7sLoE7Z.js";import{P as X}from"./plus-NkEakcGv.js";import{S as J}from"./search-B6IKaY_0.js";import{C as K}from"./circle-check-CU1k0oCl.js";import{C as O}from"./circle-x-CKKAYKET.js";import{E as Q}from"./eye-BpSf5HYs.js";import{S as V}from"./square-pen-Cdv4cGMx.js";import{T as W}from"./trash-2-Dvu-7uMw.js";/* empty css            */import"./createLucideIcon-BXK2RHzG.js";import"./users-A7j-_B4j.js";import"./log-out-dgwnkcoL.js";import"./circle-user-B2FWPpso.js";import"./index-tPtRDCGq.js";function ge(a){const e=$.c(30),{users:l,filters:E}=a,[c,H]=I.useState(E.search||"");let u;e[0]!==c?(u=r=>{r.preventDefault(),A.get("/admin/users",{search:c},{preserveState:!0})},e[0]=c,e[1]=u):u=e[1];const w=u,L=Z;let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Utilizadores",href:"/admin/users"}],e[2]=N):N=e[2];const R=N;let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(P,{title:"Gerir Utilizadores"}),e[3]=b):b=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Utilizadores"}),s.jsx("p",{className:"text-neutral-500",children:"Gestão global de contas de utilizadores."})]}),e[4]=g):g=e[4];let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsxs("div",{className:"flex justify-between items-center",children:[g,s.jsx(j,{asChild:!0,children:s.jsxs(T,{href:"/admin/users/create",children:[s.jsx(X,{className:"mr-2 h-4 w-4"}),"Novo Utilizador"]})})]}),e[5]=_):_=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=r=>H(r.target.value),e[6]=v):v=e[6];let n;e[7]!==c?(n=s.jsx(D,{placeholder:"Procurar por nome ou email...",value:c,onChange:v}),e[7]=c,e[8]=n):n=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(j,{type:"submit",variant:"secondary",children:s.jsx(J,{className:"h-4 w-4"})}),e[9]=y):y=e[9];let m;e[10]!==w||e[11]!==n?(m=s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("form",{onSubmit:w,className:"flex-1 max-w-sm flex gap-2",children:[n,y]})}),e[10]=w,e[11]=n,e[12]=m):m=e[12];let S;e[13]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(F,{children:s.jsxs(z,{children:[s.jsx(p,{children:"Nome"}),s.jsx(p,{children:"Email"}),s.jsx(p,{children:"Status"}),s.jsx(p,{className:"text-center",children:"Atividade"}),s.jsx(p,{children:"Registado em"}),s.jsx(p,{className:"text-right",children:"Ações"})]})}),e[13]=S):S=e[13];let o;if(e[14]!==l.data){let r;e[16]===Symbol.for("react.memo_cache_sentinel")?(r=t=>s.jsxs(z,{children:[s.jsx(i,{className:"font-medium",children:t.name}),s.jsx(i,{children:t.email}),s.jsx(i,{children:t.is_active?s.jsxs("div",{className:"flex items-center text-emerald-600 gap-1 text-sm",children:[s.jsx(K,{className:"h-4 w-4"})," Ativo"]}):s.jsxs("div",{className:"flex items-center text-red-600 gap-1 text-sm",children:[s.jsx(O,{className:"h-4 w-4"})," Inativo"]})}),s.jsx(i,{children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",title:"Registos Cirúrgicos",children:[s.jsx("span",{className:"text-sm font-bold text-emerald-600",children:t.registos_cirurgicos_count}),s.jsx("span",{className:"text-[10px] text-neutral-400 uppercase font-medium",children:"Cir"})]}),s.jsxs("div",{className:"flex flex-col items-center",title:"Atividades Científicas",children:[s.jsx("span",{className:"text-sm font-bold text-blue-600",children:t.atividades_cientificas_count}),s.jsx("span",{className:"text-[10px] text-neutral-400 uppercase font-medium",children:"Cie"})]}),s.jsxs("div",{className:"flex flex-col items-center",title:"Formações",children:[s.jsx("span",{className:"text-sm font-bold text-purple-600",children:t.formacoes_count}),s.jsx("span",{className:"text-[10px] text-neutral-400 uppercase font-medium",children:"For"})]})]})}),s.jsx(i,{children:q(t.created_at)}),s.jsx(i,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(j,{variant:"ghost",size:"sm",asChild:!0,children:s.jsx(T,{href:`/admin/users/${t.id}`,children:s.jsx(Q,{className:"h-4 w-4"})})}),s.jsx(j,{variant:"ghost",size:"sm",className:"text-blue-600",asChild:!0,children:s.jsx(T,{href:`/admin/users/${t.id}/edit`,children:s.jsx(V,{className:"h-4 w-4"})})}),s.jsx(j,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>L(t.id,t.name),children:s.jsx(W,{className:"h-4 w-4"})})]})})]},t.id),e[16]=r):r=e[16],o=l.data.map(r),e[14]=l.data,e[15]=o}else o=e[15];let d;e[17]!==l.data.length?(d=l.data.length===0&&s.jsx(z,{children:s.jsx(i,{colSpan:5,className:"h-24 text-center text-neutral-500",children:"Nenhum utilizador encontrado."})}),e[17]=l.data.length,e[18]=d):d=e[18];let x;e[19]!==o||e[20]!==d?(x=s.jsx(k,{children:s.jsx(B,{className:"p-0",children:s.jsxs(G,{children:[S,s.jsxs(M,{children:[o,d]})]})})}),e[19]=o,e[20]=d,e[21]=x):x=e[21];let h;e[22]!==l.links?(h=l.links.map(Y),e[22]=l.links,e[23]=h):h=e[23];let f;e[24]!==h?(f=s.jsx("div",{className:"flex gap-2 justify-center mt-6",children:h}),e[24]=h,e[25]=f):f=e[25];let C;return e[26]!==x||e[27]!==f||e[28]!==m?(C=s.jsxs(U,{breadcrumbs:R,children:[b,s.jsxs("div",{className:"space-y-6",children:[_,m,x,f]})]}),e[26]=x,e[27]=f,e[28]=m,e[29]=C):C=e[29],C}function Y(a,e){return a.url?s.jsx(T,{href:a.url,className:`px-3 py-1 text-sm border rounded transition-colors ${a.active?"bg-emerald-600 border-emerald-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,dangerouslySetInnerHTML:{__html:a.label}},e):s.jsx("span",{className:"px-3 py-1 text-sm border rounded bg-slate-50 text-slate-400 opacity-50",dangerouslySetInnerHTML:{__html:a.label}},e)}function Z(a,e){confirm(`Remover utilizador ${e}?`)&&A.delete(`/admin/users/${a}`)}export{ge as default};
