import{c as I,r as P,j as s,a as E,H as R,L as T}from"./app-DNz7jZeQ.js";import{A as U}from"./admin-layout-CO6BnQVh.js";import{B as j}from"./button-Dc7gL6cH.js";import{I as D}from"./input-VfiLBEit.js";import{b as k,c as B}from"./card-CSLCdj7t.js";import{a as z,e as f,T as G,b as p,c as M,d as q}from"./table-DocThc5Q.js";import{f as X}from"./date-formatters-B7sLoE7Z.js";import{P as F}from"./plus-v1w1O_mx.js";import{S as J}from"./search-CIMKGu5I.js";import{C as K}from"./circle-check-DrygVTQn.js";import{C as O}from"./circle-x-DLmYLZwW.js";import{E as Q}from"./eye-KRY1NeyI.js";import{S as V}from"./square-pen-DI6Ei3Fq.js";import{T as W}from"./trash-2-BVYCnXcy.js";/* empty css            */import"./createLucideIcon-Cf_iNzeH.js";import"./users-kowV1UZ5.js";import"./log-out-BMtl9uoQ.js";import"./circle-user-CzINYXMy.js";import"./index--V9oUiAV.js";function ge(t){const e=I.c(30),{users:a,filters:H}=t,[i,L]=P.useState(H.search||"");let u;e[0]!==i?(u=r=>{r.preventDefault(),E.get("/admin/users",{search:i},{preserveState:!0})},e[0]=i,e[1]=u):u=e[1];const w=u,$=Z;let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Utilizadores",href:"/admin/users"}],e[2]=b):b=e[2];const A=b;let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(R,{title:"Gerir Utilizadores"}),e[3]=N):N=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Utilizadores"}),s.jsx("p",{className:"text-neutral-500",children:"Gestão global de contas de utilizadores."})]}),e[4]=g):g=e[4];let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsxs("div",{className:"flex justify-between items-center",children:[g,s.jsx(j,{asChild:!0,children:s.jsxs(T,{href:"/admin/users/create",children:[s.jsx(F,{className:"mr-2 h-4 w-4"}),"Novo Utilizador"]})})]}),e[5]=_):_=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=r=>L(r.target.value),e[6]=v):v=e[6];let m;e[7]!==i?(m=s.jsx(D,{placeholder:"Procurar por nome ou email...",value:i,onChange:v}),e[7]=i,e[8]=m):m=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(j,{type:"submit",variant:"secondary",children:s.jsx(J,{className:"h-4 w-4"})}),e[9]=y):y=e[9];let c;e[10]!==w||e[11]!==m?(c=s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("form",{onSubmit:w,className:"flex-1 max-w-sm flex gap-2",children:[m,y]})}),e[10]=w,e[11]=m,e[12]=c):c=e[12];let S;e[13]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(G,{children:s.jsxs(z,{children:[s.jsx(p,{children:"Nome"}),s.jsx(p,{children:"Email"}),s.jsx(p,{children:"Status"}),s.jsx(p,{children:"Registado em"}),s.jsx(p,{className:"text-right",children:"Ações"})]})}),e[13]=S):S=e[13];let n;if(e[14]!==a.data){let r;e[16]===Symbol.for("react.memo_cache_sentinel")?(r=l=>s.jsxs(z,{children:[s.jsx(f,{className:"font-medium",children:l.name}),s.jsx(f,{children:l.email}),s.jsx(f,{children:l.is_active?s.jsxs("div",{className:"flex items-center text-emerald-600 gap-1 text-sm",children:[s.jsx(K,{className:"h-4 w-4"})," Ativo"]}):s.jsxs("div",{className:"flex items-center text-red-600 gap-1 text-sm",children:[s.jsx(O,{className:"h-4 w-4"})," Inativo"]})}),s.jsx(f,{children:X(l.created_at)}),s.jsx(f,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(j,{variant:"ghost",size:"sm",asChild:!0,children:s.jsx(T,{href:`/admin/users/${l.id}`,children:s.jsx(Q,{className:"h-4 w-4"})})}),s.jsx(j,{variant:"ghost",size:"sm",className:"text-blue-600",asChild:!0,children:s.jsx(T,{href:`/admin/users/${l.id}/edit`,children:s.jsx(V,{className:"h-4 w-4"})})}),s.jsx(j,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>$(l.id,l.name),children:s.jsx(W,{className:"h-4 w-4"})})]})})]},l.id),e[16]=r):r=e[16],n=a.data.map(r),e[14]=a.data,e[15]=n}else n=e[15];let o;e[17]!==a.data.length?(o=a.data.length===0&&s.jsx(z,{children:s.jsx(f,{colSpan:5,className:"h-24 text-center text-neutral-500",children:"Nenhum utilizador encontrado."})}),e[17]=a.data.length,e[18]=o):o=e[18];let d;e[19]!==n||e[20]!==o?(d=s.jsx(k,{children:s.jsx(B,{className:"p-0",children:s.jsxs(M,{children:[S,s.jsxs(q,{children:[n,o]})]})})}),e[19]=n,e[20]=o,e[21]=d):d=e[21];let h;e[22]!==a.links?(h=a.links.map(Y),e[22]=a.links,e[23]=h):h=e[23];let x;e[24]!==h?(x=s.jsx("div",{className:"flex gap-2 justify-center mt-6",children:h}),e[24]=h,e[25]=x):x=e[25];let C;return e[26]!==d||e[27]!==x||e[28]!==c?(C=s.jsxs(U,{breadcrumbs:A,children:[N,s.jsxs("div",{className:"space-y-6",children:[_,c,d,x]})]}),e[26]=d,e[27]=x,e[28]=c,e[29]=C):C=e[29],C}function Y(t,e){return t.url?s.jsx(T,{href:t.url,className:`px-3 py-1 text-sm border rounded transition-colors ${t.active?"bg-emerald-600 border-emerald-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,dangerouslySetInnerHTML:{__html:t.label}},e):s.jsx("span",{className:"px-3 py-1 text-sm border rounded bg-slate-50 text-slate-400 opacity-50",dangerouslySetInnerHTML:{__html:t.label}},e)}function Z(t,e){confirm(`Remover utilizador ${e}?`)&&E.delete(`/admin/users/${t}`)}export{ge as default};
