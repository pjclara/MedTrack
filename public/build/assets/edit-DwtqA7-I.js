import{c as We,r as Pe,e as Xe,j as s,a as Ge,H as Ye,y as Ke}from"./app-tFYMUciI.js";import{u as Ze,A as Ie}from"./app-layout-CjK0QzOa.js";import{B as I}from"./button-Dle-SbEp.js";import{b as v,a as N,C as b,d as Y,c as _}from"./card-C3usKmay.js";import{I as Te}from"./input-e-uGzu36.js";import{L as p}from"./label-B0zFsQOc.js";import{T as qe}from"./textarea-D-hvWhu_.js";import{C as es}from"./checkbox-DxhgEIH5.js";import{c as Je}from"./date-formatters-B7sLoE7Z.js";import{Q as ss,C as is,a as ts,b as as,A as os}from"./react-select-DeXCcB-u.js";import{c as S,a as D,S as w,b as A,d as g}from"./select-C-sms1E3.js";import{B as rs}from"./badge-Bcpiv3EY.js";import{S as ns}from"./separator-Cys9u_cx.js";import{T as cs}from"./trash-2-CoPrClOG.js";import{P as ls}from"./plus-CAP0GSZM.js";import{S as ds}from"./save-VH5lwjCR.js";import{A as ms}from"./arrow-left-POtzCBp5.js";/* empty css            */import"./index-Csd9bN0W.js";import"./index-C6ZDtAOF.js";import"./index-yC4sJKkN.js";import"./index-BwZRPWTo.js";import"./createLucideIcon-DgD1BL1Z.js";import"./index-Dtq_5zvv.js";import"./index-BH0NSEIh.js";import"./log-out-ee8adTPl.js";import"./activity-Cl-3IR_0.js";import"./users-DaSpLRef.js";import"./clipboard-list-Da3n9-01.js";import"./index-BtSuNgA5.js";import"./check-BPCxio13.js";import"./dialog-Z_UHJLJC.js";import"./index-DywX51Id.js";const P=["Utente","Registo Cirúrgico","Diagnósticos","Intervenções","Dados Adicionais","Revisão e Confirmação"],xs=[{title:"Dashboard",href:"/dashboard"},{title:"Registos Cirúrgicos",href:"/registos-cirurgicos"},{title:"Editar",href:"#"}];function li(t){const e=We.c(128),{registo:R,tiposDeCirurgia:ee,tiposDeOrigem:se,diagnosticos:ie,procedimentos:te,especialidades:ae,hospitals:oe,zonaAnatomicas:re,enums:ne}=t;let ce;e[0]!==ee?(ce=ee===void 0?[]:ee,e[0]=ee,e[1]=ce):ce=e[1];const F=ce;let le;e[2]!==se?(le=se===void 0?[]:se,e[2]=se,e[3]=le):le=e[3];const E=le;let de;e[4]!==ie?(de=ie===void 0?[]:ie,e[4]=ie,e[5]=de):de=e[5];const j=de;let me;e[6]!==te?(me=te===void 0?[]:te,e[6]=te,e[7]=me):me=e[7];const f=me;let xe;e[8]!==ae?(xe=ae===void 0?[]:ae,e[8]=ae,e[9]=xe):xe=e[9];const k=xe;let pe;e[10]!==oe?(pe=oe===void 0?[]:oe,e[10]=oe,e[11]=pe):pe=e[11];const he=pe;let ue;e[12]!==re?(ue=re===void 0?[]:re,e[12]=re,e[13]=ue):ue=e[13];const ke=ue;let je;e[14]!==ne?(je=ne===void 0?{sexo:[],funcoes:[],clavien:[],tipo_de_abordagem:[],tipo_diagnostico:[]}:ne,e[14]=ne,e[15]=je):je=e[15];const u=je,x=Ze(),[a,Re]=Pe.useState(1),[l,ge]=Pe.useState(R.utente),[o,T]=Pe.useState(R.registo),[r,Z]=Pe.useState(R.diagnosticos),{processing:fe}=Xe();let ve;e[16]!==r?(ve=i=>{const n=r.map(Ps),d=i.filter(h=>!n.includes(h)),c=n.filter(h=>!i.includes(h));let m=[...r];m=m.filter(h=>!c.includes(h.diagnostico_id)),d.forEach(h=>{m.push({diagnostico_id:h,tipo:"",procedimentos:[{procedimento_id:"",funcao:"",clavien_dindo:"",anatomia_patologica:"",observacoes:""}]})}),Z(m)},e[16]=r,e[17]=ve):ve=e[17];const Fe=ve;let Ne;e[18]!==r?(Ne=(i,n)=>{const d=[...r];d[i].tipo=n,Z(d)},e[18]=r,e[19]=Ne):Ne=e[19];const Ee=Ne;let be;e[20]!==r?(be=i=>{const n=[...r];n[i].procedimentos.push({procedimento_id:"",funcao:"",clavien_dindo:"",anatomia_patologica:"",observacoes:""}),Z(n)},e[20]=r,e[21]=be):be=e[21];const Oe=be;let _e;e[22]!==r?(_e=(i,n)=>{const d=[...r];d[i].procedimentos=d[i].procedimentos.filter((c,m)=>m!==n),Z(d)},e[22]=r,e[23]=_e):_e=e[23];const Ve=_e;let ye;e[24]!==r?(ye=(i,n,d,c)=>{const m=[...r];m[i].procedimentos[n][d]=c,Z(m)},e[24]=r,e[25]=ye):ye=e[25];const y=ye;let Ce;e[26]!==r||e[27]!==R.id||e[28]!==o||e[29]!==l?(Ce=i=>{i.preventDefault();const n={utente:l,registo:o,diagnosticos:r};Ge.put(`/registos-cirurgicos/${R.id}`,n,{onSuccess:As,onError:ws})},e[26]=r,e[27]=R.id,e[28]=o,e[29]=l,e[30]=Ce):Ce=e[30];const $e=Ce;console.log({registoData:o});let Se;e[31]!==r||e[32]!==o||e[33]!==a||e[34]!==l?(Se=()=>{switch(a){case 1:return l.processo&&l.data_nascimento&&l.sexo;case 2:return o.hospital&&o.especialidade&&o.data_cirurgia&&o.tipo_de_cirurgia_id&&o.tipo_de_origem_id&&o.tipo_de_abordagem;case 3:return r.length>0;case 4:return r.every(Ss);default:return!0}},e[31]=r,e[32]=o,e[33]=a,e[34]=l,e[35]=Se):Se=e[35];const ze=Se;let De;e[36]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(Ye,{title:"Editar Registo Cirúrgico"}),e[36]=De):De=e[36];const Le=`flex flex-col gap-4 ${x?"p-4":"p-6"}`,Be=`${x?"text-2xl":"text-3xl"} font-bold tracking-tight`,Me=x?"Editar Registo":"Editar Registo Cirúrgico";let O;e[37]!==Be||e[38]!==Me?(O=s.jsx("h1",{className:Be,children:Me}),e[37]=Be,e[38]=Me,e[39]=O):O=e[39];let V;e[40]!==x||e[41]!==a?(V=!x&&s.jsx("p",{className:"text-muted-foreground font-medium",children:P[a-1]}),e[40]=x,e[41]=a,e[42]=V):V=e[42];let $;e[43]!==O||e[44]!==V?($=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[O,V]})}),e[43]=O,e[44]=V,e[45]=$):$=e[45];let z;e[46]!==x||e[47]!==a?(z=s.jsx("div",{className:"flex flex-col gap-2",children:x?s.jsxs("div",{className:"flex flex-col gap-1 px-1",children:[s.jsxs("div",{className:"flex justify-between items-end mb-1",children:[s.jsxs("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:["Passo ",a," de 6"]}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:P[a-1]})]}),s.jsx("div",{className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${a/6*100}%`}})})]}):s.jsx("div",{className:"flex gap-2",children:P.map((i,n)=>{const d=n+1;return s.jsxs("button",{type:"button",onClick:()=>Re(d),className:"flex-1 flex flex-col gap-2 items-center group transition-all",children:[s.jsx("div",{className:`h-2 w-full rounded transition-colors ${d<=a?"bg-primary":"bg-muted"} group-hover:opacity-80`,title:i}),s.jsx("span",{className:`text-[10px] uppercase tracking-wider font-semibold hidden md:block text-center transition-colors ${d===a?"text-primary":"text-muted-foreground/50 group-hover:text-muted-foreground"}`,children:i})]},d)})})}),e[46]=x,e[47]=a,e[48]=z):z=e[48];let L;e[49]!==u?.sexo||e[50]!==a||e[51]!==l?(L=a===1&&s.jsxs(v,{children:[s.jsxs(N,{children:[s.jsx(b,{children:P[0]}),s.jsx(Y,{children:"Informações do utente"})]}),s.jsxs(_,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"nome",children:["Nome ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Te,{id:"nome",value:l.nome,onChange:i=>ge({...l,nome:i.target.value}),placeholder:"Nome do utente"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"processo",children:["Processo ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Te,{id:"processo",value:l.processo,onChange:i=>ge({...l,processo:i.target.value}),placeholder:"Número de processo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"data_nascimento",children:["Data de Nascimento ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Te,{id:"data_nascimento",type:"date",value:l.data_nascimento?new Date(l.data_nascimento).toISOString().split("T")[0]:"",onChange:i=>ge({...l,data_nascimento:i.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"sexo",children:["Sexo ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:l.sexo,onValueChange:i=>ge({...l,sexo:i}),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione o sexo"})}),s.jsx(A,{children:(u?.sexo||[]).map(Cs)})]})]})]})]}),e[49]=u?.sexo,e[50]=a,e[51]=l,e[52]=L):L=e[52];let B;e[53]!==u?.tipo_de_abordagem||e[54]!==k||e[55]!==he||e[56]!==o||e[57]!==a||e[58]!==F||e[59]!==E?(B=a===2&&s.jsxs(v,{children:[s.jsxs(N,{children:[s.jsx(b,{children:P[1]}),s.jsx(Y,{children:"Informações da cirurgia"})]}),s.jsxs(_,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"hospital",children:["Hospital de Origem ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:o.hospital,onValueChange:i=>T({...o,hospital:i}),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione o hospital de origem"})}),s.jsx(A,{children:he.length>0?he.map(ys):s.jsx(g,{value:"none",disabled:!0,children:"Nenhum hospital registado"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"especialidade",children:["Especialidade ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:o.especialidade,onValueChange:i=>T({...o,especialidade:i}),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione a especialidade"})}),s.jsx(A,{children:k.length>0?k.map(_s):s.jsx(g,{value:"none",disabled:!0,children:"Nenhuma especialidade registada"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"data_cirurgia",children:["Data da Cirurgia ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Te,{id:"data_cirurgia",type:"date",value:o.data_cirurgia,onChange:i=>T({...o,data_cirurgia:i.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"tipo_de_cirurgia_id",children:["Tipo de Cirurgia ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:o.tipo_de_cirurgia_id,onValueChange:i=>T({...o,tipo_de_cirurgia_id:i}),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione o tipo"})}),s.jsx(A,{children:(F||[]).map(bs)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"tipo_de_origem_id",children:["Tipo de Origem ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:o.tipo_de_origem_id,onValueChange:i=>T({...o,tipo_de_origem_id:i}),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione a origem"})}),s.jsx(A,{children:(E||[]).map(Ns)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{htmlFor:"tipo_de_abordagem",children:["Tipo de Abordagem ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:o.tipo_de_abordagem,onValueChange:i=>T({...o,tipo_de_abordagem:i}),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione a abordagem"})}),s.jsx(A,{children:(u?.tipo_de_abordagem||[]).map(vs)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:"ambulatorio",checked:o.ambulatorio,onCheckedChange:i=>T({...o,ambulatorio:i})}),s.jsx(p,{htmlFor:"ambulatorio",className:"cursor-pointer",children:"Ambulatório"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(p,{htmlFor:"observacoes",children:"Observações"}),s.jsx(qe,{id:"observacoes",value:o.observacoes,onChange:i=>T({...o,observacoes:i.target.value}),placeholder:"Observações sobre o registo...",rows:4})]})]})]}),e[53]=u?.tipo_de_abordagem,e[54]=k,e[55]=he,e[56]=o,e[57]=a,e[58]=F,e[59]=E,e[60]=B):B=e[60];let M;e[61]!==j||e[62]!==r||e[63]!==u?.tipo_diagnostico||e[64]!==Fe||e[65]!==a||e[66]!==Ee||e[67]!==ke?(M=a===3&&s.jsxs(v,{children:[s.jsxs(N,{children:[s.jsx(b,{children:P[2]}),s.jsx(Y,{children:"Selecione os diagnósticos (pode selecionar múltiplos)"})]}),s.jsxs(_,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(p,{children:["Diagnósticos ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ss,{zonaAnatomicas:ke})]}),s.jsx(is,{value:r.map(i=>({value:i.diagnostico_id,label:j.find(n=>n.id.toString()===i.diagnostico_id)?.nome||""})),onChange:Fe,options:j.map(fs),placeholder:"Selecione os diagnósticos"})]}),r.length>0&&s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Classificação dos Diagnósticos"}),r.map((i,n)=>{const d=j.find(c=>c.id.toString()===i.diagnostico_id)?.nome;return s.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:d}),s.jsxs(S,{value:i.tipo,onValueChange:c=>Ee(n,c),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Tipo (Benigno/Maligno)"})}),s.jsx(A,{children:(u?.tipo_diagnostico||[]).map(gs)})]})]},i.diagnostico_id)})]})]})]}),e[61]=j,e[62]=r,e[63]=u?.tipo_diagnostico,e[64]=Fe,e[65]=a,e[66]=Ee,e[67]=ke,e[68]=M):M=e[68];let H;e[69]!==Oe||e[70]!==j||e[71]!==r||e[72]!==u?.funcoes||e[73]!==k||e[74]!==f||e[75]!==Ve||e[76]!==a||e[77]!==y?(H=a===4&&s.jsxs(v,{children:[s.jsxs(N,{children:[s.jsx(b,{children:P[3]}),s.jsx(Y,{children:"Adicione procedimentos para cada diagnóstico"})]}),s.jsx(_,{className:"space-y-6",children:r.map((i,n)=>{const d=j.find(c=>c.id.toString()===i.diagnostico_id)?.nome||"Diagnóstico";return s.jsxs(v,{children:[s.jsx(N,{children:s.jsx(b,{className:"text-base",children:d})}),s.jsxs(_,{className:"space-y-4",children:[i.procedimentos.map((c,m)=>s.jsxs(v,{children:[s.jsx(N,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(b,{className:"text-sm",children:["Procedimento ",m+1]}),i.procedimentos.length>1&&s.jsx(I,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ve(n,m),children:s.jsx(cs,{className:"h-4 w-4"})})]})}),s.jsx(_,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(p,{children:["Procedimento ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ts,{especialidades:k})]}),s.jsx(as,{value:f.filter(h=>h.id.toString()===c.procedimento_id).map(js)[0],onChange:h=>y(n,m,"procedimento_id",h),options:f.map(us),placeholder:"Selecione o procedimento"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(p,{children:["Função ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(S,{value:c.funcao,onValueChange:h=>y(n,m,"funcao",h),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione a função"})}),s.jsx(A,{children:(u?.funcoes||[]).map(hs)})]})]})]})})]},m)),s.jsxs(I,{type:"button",variant:"outline",onClick:()=>Oe(n),className:"w-full",children:[s.jsx(ls,{className:"mr-2 h-4 w-4"}),"Adicionar Procedimento"]})]})]},n)})})]}),e[69]=Oe,e[70]=j,e[71]=r,e[72]=u?.funcoes,e[73]=k,e[74]=f,e[75]=Ve,e[76]=a,e[77]=y,e[78]=H):H=e[78];let Q;e[79]!==j||e[80]!==r||e[81]!==u?.clavien||e[82]!==f||e[83]!==a||e[84]!==y?(Q=a===5&&s.jsxs(v,{children:[s.jsxs(N,{children:[s.jsx(b,{children:P[4]}),s.jsx(Y,{children:"Informações opcionais sobre cada procedimento"})]}),s.jsx(_,{className:"space-y-6",children:r.map((i,n)=>{const d=j.find(c=>c.id.toString()===i.diagnostico_id)?.nome||"Diagnóstico";return s.jsxs(v,{children:[s.jsx(N,{children:s.jsx(b,{className:"text-base",children:d})}),s.jsx(_,{className:"space-y-4",children:i.procedimentos.map((c,m)=>{const h=f.find(C=>C.id.toString()===c.procedimento_id)?.nome||`Procedimento ${m+1}`;return s.jsxs(v,{children:[s.jsx(N,{children:s.jsx(b,{className:"text-sm",children:h})}),s.jsxs(_,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(p,{children:"Clavien-Dindo"}),s.jsxs(S,{value:c.clavien_dindo,onValueChange:C=>y(n,m,"clavien_dindo",C),children:[s.jsx(D,{children:s.jsx(w,{placeholder:"Selecione a classificação"})}),s.jsx(A,{children:(u?.clavien||[]).map(ps)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(p,{children:"Anatomia Patológica"}),s.jsx(qe,{value:c.anatomia_patologica,onChange:C=>y(n,m,"anatomia_patologica",C.target.value),placeholder:"Resultados de anatomia patológica...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(p,{children:"Observações"}),s.jsx(qe,{value:c.observacoes,onChange:C=>y(n,m,"observacoes",C.target.value),placeholder:"Observações sobre o procedimento...",rows:3})]})]})]},m)})})]},n)})})]}),e[79]=j,e[80]=r,e[81]=u?.clavien,e[82]=f,e[83]=a,e[84]=y,e[85]=Q):Q=e[85];let U;e[86]!==j||e[87]!==r||e[88]!==f||e[89]!==o||e[90]!==a||e[91]!==F||e[92]!==E||e[93]!==l?(U=a===6&&s.jsxs(v,{children:[s.jsxs(N,{children:[s.jsx(b,{children:P[5]}),s.jsx(Y,{children:"Revise todos os dados antes de guardar"})]}),s.jsxs(_,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Utente"}),s.jsxs("div",{className:"rounded-md border p-4 space-y-1 text-sm bg-muted/30",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Nome:"})," ",l.nome]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Processo:"})," ",l.processo]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Data de Nascimento:"})," ",Je(l.data_nascimento)]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Sexo:"})," ",l.sexo]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Registo"}),s.jsxs("div",{className:"rounded-md border p-4 space-y-1 text-sm bg-muted/30",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Data da Cirurgia:"})," ",Je(o.data_cirurgia)]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Tipo de Cirurgia:"})," ",F.find(i=>i.id.toString()===o.tipo_de_cirurgia_id)?.nome]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Tipo de Origem:"})," ",E.find(i=>i.id.toString()===o.tipo_de_origem_id)?.nome]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Tipo de Abordagem:"})," ",o.tipo_de_abordagem]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Ambulatório:"})," ",o.ambulatorio?"Sim":"Não"]}),o.observacoes&&s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground mr-1",children:"Observações:"})," ",o.observacoes]})]})]})]}),s.jsx(ns,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Diagnósticos e Procedimentos"}),r.map((i,n)=>{const d=j.find(c=>c.id.toString()===i.diagnostico_id)?.nome;return s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-medium text-sm",children:d}),i.tipo&&s.jsx(rs,{variant:i.tipo==="Maligno"?"destructive":"secondary",className:"text-[10px] h-4",children:i.tipo})]}),s.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 ml-4",children:i.procedimentos.map((c,m)=>{const h=f.find(C=>C.id.toString()===c.procedimento_id)?.nome;return s.jsxs("li",{children:[h," (",c.funcao,")",c.clavien_dindo&&c.clavien_dindo!=="none"&&` - Clavien-Dindo: ${c.clavien_dindo}`]},m)})})]},n)})]})]})]}),e[86]=j,e[87]=r,e[88]=f,e[89]=o,e[90]=a,e[91]=F,e[92]=E,e[93]=l,e[94]=U):U=e[94];const He=`flex items-center justify-between pt-6 ${x?"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-md border-t p-4 z-50":"mt-4 gap-2"}`;let q;e[95]!==a?(q=()=>a>1?Re(a-1):Ge.visit("/registos-cirurgicos"),e[95]=a,e[96]=q):q=e[96];const Qe=x?"flex-1 mr-2":"";let we;e[97]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsx(ms,{className:"mr-2 h-4 w-4"}),e[97]=we):we=e[97];const Ue=a>1?x?"Anterior":"Passo Anterior":"Cancelar";let G;e[98]!==q||e[99]!==Qe||e[100]!==Ue?(G=s.jsxs(I,{type:"button",variant:"outline",onClick:q,className:Qe,children:[we,Ue]}),e[98]=q,e[99]=Qe,e[100]=Ue,e[101]=G):G=e[101];let J;e[102]!==ze||e[103]!==x||e[104]!==fe||e[105]!==a?(J=a<6?s.jsxs(I,{type:"button",onClick:()=>Re(a+1),disabled:!ze(),className:x?"flex-1 ml-2":"",children:[x?"Próximo":"Próximo Passo",s.jsx(os,{className:"ml-2 h-4 w-4"})]}):s.jsxs(I,{type:"submit",disabled:fe,className:`bg-emerald-600 hover:bg-emerald-700 ${x?"flex-1 ml-2":""}`,children:[s.jsx(ds,{className:"mr-2 h-4 w-4"}),fe?"A guardar...":"Guardar Alterações"]}),e[102]=ze,e[103]=x,e[104]=fe,e[105]=a,e[106]=J):J=e[106];let K;e[107]!==He||e[108]!==G||e[109]!==J?(K=s.jsxs("div",{className:He,children:[G,J]}),e[107]=He,e[108]=G,e[109]=J,e[110]=K):K=e[110];let W;e[111]!==x?(W=x&&s.jsx("div",{className:"h-20"}),e[111]=x,e[112]=W):W=e[112];let X;e[113]!==$e||e[114]!==L||e[115]!==B||e[116]!==M||e[117]!==H||e[118]!==Q||e[119]!==U||e[120]!==K||e[121]!==W?(X=s.jsxs("form",{onSubmit:$e,children:[L,B,M,H,Q,U,K,W," "]}),e[113]=$e,e[114]=L,e[115]=B,e[116]=M,e[117]=H,e[118]=Q,e[119]=U,e[120]=K,e[121]=W,e[122]=X):X=e[122];let Ae;return e[123]!==Le||e[124]!==$||e[125]!==z||e[126]!==X?(Ae=s.jsxs(Ie,{breadcrumbs:xs,children:[De,s.jsxs("div",{className:Le,children:[$,z,X]})]}),e[123]=Le,e[124]=$,e[125]=z,e[126]=X,e[127]=Ae):Ae=e[127],Ae}function ps(t){return s.jsx(g,{value:t,children:t},t)}function hs(t){return s.jsx(g,{value:t,children:t},t)}function us(t){return{value:t.id.toString(),label:t.nome}}function js(t){return{value:t.id.toString(),label:t.nome}}function gs(t){return s.jsx(g,{value:t,children:t},t)}function fs(t){return{value:t.id.toString(),label:t.nome}}function vs(t){return s.jsx(g,{value:t,children:t},t)}function Ns(t){return s.jsx(g,{value:t.id.toString(),children:t.nome},t.id)}function bs(t){return s.jsx(g,{value:t.id.toString(),children:t.nome},t.id)}function _s(t){return s.jsx(g,{value:t.nome,children:t.nome},t.id)}function ys(t){return s.jsx(g,{value:t.nome,children:t.nome},t.id)}function Cs(t){return s.jsx(g,{value:t,children:t},t)}function Ss(t){return t.procedimentos.every(Ds)}function Ds(t){return t.procedimento_id&&t.funcao}function ws(t){Ke.error("Erro ao atualizar registo cirúrgico. Verifique os dados."),console.error(t)}function As(){Ke.success("Registo cirúrgico atualizado com sucesso!")}function Ps(t){return t.diagnostico_id}export{li as default};
